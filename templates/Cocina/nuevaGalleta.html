{% extends "Central/layout.html" %}

{% block content %}
<div class="container mx-auto p-6 flex justify-center">
    <div class="w-full max-w-2xl bg-white shadow-lg rounded-lg p-6">
        <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Crear Nueva Galleta</h1>

        <form action="{{ url_for('cocina.nueva_galleta') }}" method="POST" enctype="multipart/form-data" class="space-y-4">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

            <div>
                <label class="block font-semibold text-gray-700">Nombre de la Receta</label>
                <input type="text" name="nombre" class="w-full border border-gray-300 rounded-lg p-2 focus:ring focus:ring-blue-300" required>
            </div>

            <div>
                <label class="block font-semibold text-gray-700">Descripci√≥n</label>
                <textarea name="descripcion" class="w-full border border-gray-300 rounded-lg p-2 focus:ring focus:ring-blue-300"></textarea>
            </div>

            <div>
                <label class="block font-semibold text-gray-700">Selecciona los Insumos y su Cantidad</label>
                <div class="border border-gray-300 rounded-lg p-4 space-y-2">
                    {% for insumo in insumos %}
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="insumos" value="{{ insumo.id }}" class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                        <label class="text-gray-700">{{ insumo.nombre }} (Disponible: {{ insumo.cantidad }} {{ insumo.unidadMedida }})</label>
                        <input type="number" name="cantidad_{{ insumo.id }}" class="border border-gray-300 rounded-lg p-1 w-20 focus:ring focus:ring-blue-300" min="1" max="{{ insumo.cantidad }}" placeholder="Cantidad">
                    </div>
                    {% endfor %}
                </div>
            </div>

            <div>
                <label class="block font-semibold text-gray-700">Precio por 100g de galleta</label>
                <input type="number" name="precio" class="w-full border border-gray-300 rounded-lg p-2 focus:ring focus:ring-blue-300" min="0" step="0.01" required>
            </div>

            <div>
                <label class="block font-semibold text-gray-700">Subir Imagen</label>
                <input type="file" name="imagen" accept="image/*" class="w-full border border-gray-300 rounded-lg p-2 focus:ring focus:ring-blue-300">
            </div>

            <button type="submit"  style="background-color: #9C6E66;" class="w-full text-white font-semibold py-2 rounded-lg hover:bg-[#7A5A52] transition">Crear Galleta</button>
        </form>

        <a href="{{ url_for('cocina.cocina') }}" class="block mt-4 text-center text-blue-600 hover:underline">Volver</a>
    </div>
</div>
{% endblock %}
